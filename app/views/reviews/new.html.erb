<div class="container">
  <h1>New Review</h1>
  <%= simple_form_for [@restaurant, @review] do |f| %>
    <div class="form-inputs">
      <%= f.input :content %>
      <%= f.input :rating, input_html: { min: '0', max: '5' }%>
      <div class="mb-4">
        <i class="far fa-star star_rating"></i><i class="far fa-star star_rating"></i><i class="far fa-star star_rating"></i><i class="far fa-star star_rating"></i><i class="far fa-star star_rating"></i>
      </div>
    </div>
    <div class="form-actions">
      <%= f.button :submit, class: "btn btn-primary" %>
    </div>
  <% end %>
</div>


<script>
  document.querySelector("#review_rating").style.display = "none";
  let stars = document.querySelectorAll(".star_rating");
  stars.forEach((element, index) => {
    element.addEventListener("click", (event) => {
      stars.forEach((item, itemIndex) => {
        item.classList.add("far");;
        if (itemIndex <= index) {
          item.classList.remove("far");;
          item.classList.add("fas");
          document.querySelector("#review_rating").value = itemIndex + 1;
        }
      });
    });
  });

</script>
